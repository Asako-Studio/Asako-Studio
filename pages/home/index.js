(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/index"],{"2acb":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(t("4795")),o=l(t("8e72")),i=t("c509"),a=t("2f62"),c=s(t("8470"));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=u();if(n&&n.has(e))return n.get(e);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=e[o]}return t.default=e,n&&n.set(e,t),t}function l(e){return e&&e.__esModule?e:{default:e}}function d(e,n,t,r,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,o)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)}))}}function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var m=function(){Promise.all([t.e("common/vendor"),t.e("components/kp-navbar/index")]).then(function(){return resolve(t("5e45"))}.bind(null,t)).catch(t.oe)},b=function(){Promise.all([t.e("common/vendor"),t.e("components/kp-avatar/index")]).then(function(){return resolve(t("f3bc"))}.bind(null,t)).catch(t.oe)},v=function(){Promise.all([t.e("common/vendor"),t.e("components/kp-sticky/index")]).then(function(){return resolve(t("a7fc"))}.bind(null,t)).catch(t.oe)},y=function(){Promise.all([t.e("common/vendor"),t.e("components/kp-swiper/index")]).then(function(){return resolve(t("e611"))}.bind(null,t)).catch(t.oe)},k=function(){Promise.all([t.e("common/vendor"),t.e("components/kp-icon/index")]).then(function(){return resolve(t("dd5e"))}.bind(null,t)).catch(t.oe)},j=function(){Promise.all([t.e("common/vendor"),t.e("components/kp-tag/index")]).then(function(){return resolve(t("23c6"))}.bind(null,t)).catch(t.oe)},w=function(){Promise.all([t.e("common/vendor"),t.e("components/kp-badge/index")]).then(function(){return resolve(t("79ab"))}.bind(null,t)).catch(t.oe)},x=function(){Promise.all([t.e("common/vendor"),t.e("components/kp-author/index")]).then(function(){return resolve(t("5576"))}.bind(null,t)).catch(t.oe)},O=function(){Promise.all([t.e("common/vendor"),t.e("components/kp-spin/index")]).then(function(){return resolve(t("f9f3"))}.bind(null,t)).catch(t.oe)},P=function(){Promise.all([t.e("common/vendor"),t.e("components/kp-actionsheet/index")]).then(function(){return resolve(t("c610"))}.bind(null,t)).catch(t.oe)},S={components:{KpNavbar:m,KpAvatar:b,KpSticky:v,KpSwiper:y,KpIcon:k,KpTag:j,KpBadge:w,KpAuthor:x,KpSpin:O,KpActionsheet:P},data:function(){return{preLanguage:null,home:{gallery:["/orj1080/967d9727ly3gc0whyfofkj20sg0sg4av.jpg","/orj1080/967d9727ly3gc0whyclfoj20sg0sge0a.jpg","/orj1080/967d9727ly3gc0whykstlj20sg0sgb29.jpg","/orj1080/967d9727ly3gc0whywdupj20sg0sgb0l.jpg","/orj1080/967d9727ly3gc0whysphij20sg0sgkcg.jpg","/orj1080/967d9727ly3gc0whyiy96j20sg0sg1jj.jpg","/orj1080/967d9727ly3gc0whz3i51j20sg0sgu0x.jpg","/orj1080/967d9727ly3gc0whz6qvlj20sg0sghdt.jpg","/orj1080/967d9727ly3gc0whz6yf1j20sg0sgkic.jpg"].map((function(e){return o.default.sinaimg+e})),galleryIndex:0,galleryDirection:""},user:{likeClick:0,likeAnimate:!1,liked:e.getStorageSync("".concat(o.default.key,"_liked"))},tabs:{current:0,scrollLeft:0,scrollTop:0,stickyHeight:this.CustomBar,swiperNodeList:[]},feedback:{guideTips:!1,guideTipsConfig:{},guideShare:!1,guideShareList:[{text:"ÂàÜ‰∫´ÁªôÊúãÂèã",opentype:"share"},{text:"ÁîüÊàêÂàÜ‰∫´Êµ∑Êä•",color:"#07C160"}]},entry:{params:{},_500px:[]}}},computed:h({},(0,a.mapState)(["app"])),onLoad:function(n){e.hideTabBar(),n.tab&&(this.tabs.current=n.tab),e.$on("updateLanguage",this.updateLanguage)},onShow:function(){var e=this.$store.state.app.language;this.preLanguage&&this.preLanguage!==e&&this.handleSwiperHeight()},onReady:function(){this.handleSwiperHeight()},onUnload:function(){e.$off("updateLanguage")},onPageScroll:function(e){this.tabs.scrollTop=e.scrollTop},onShareAppMessage:function(e){var n=this.$store.state.app,t=(n.name,n.brand,n.shares);return{title:t.title,path:"pages/home/index"}},methods:{updateLanguage:function(e){this.preLanguage=e},get500pxAlbumList:function(){var e=this;return p(r.default.mark((function n(){var t;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.get500pxAlbumListSvc();case 2:t=n.sent,e.entry._500px=t.data;case 4:case"end":return n.stop()}}),n)})))()},handleSwiperHeight:function(){var n=this;e.createSelectorQuery().selectAll(".swiper-content").boundingClientRect((function(e){n.tabs.swiperNodeList=e.map((function(e){return h({},e,{height:e.height+50})}))})).exec()},handleSwiperChange:function(e){"touch"===e.detail.source&&(this.home.galleryIndex=e.target.current)},handleSwiperTarget:function(e){this.home.galleryDirection=e.detail.dx>0?"left":e.detail.dx<0&&"right"},handleSwiperFinish:function(e){e.detail.source||(this.home.galleryDirection="")},handleAuthorLike:function(){var n=this,t=this.user,r=t.liked,a=t.likeClick,c=e.getSystemInfoSync(),u=c.brand,s=c.model,l="".concat(u,"-").concat(s,"-").concat(Date.now(),"=> ").concat(a+1," times");e.setStorage({key:"".concat(o.default.key,"_liked"),data:l,success:function(){e.vibrateShort({success:function(){}}),wx.reportAnalytics("click_home_confession",{love_count:a+1})}}),this.user={liked:l,likeClick:a+1,likeAnimate:!0},r&&(0,i.debounce)(setTimeout((function(){n.user.likeAnimate=!1}),5e3))},handleSwitchTab:function(e,n){var t;if("nav"===n&&(t=e.currentTarget.dataset.current,this.tabs.current==t))return!1;if("main"===n){if(this.tabs.current==e.detail.current)return!1;t=e.detail.current}this.tabs.current=t,2!==t||this.entry._500px.length||this.get500pxAlbumList()},handleOpenMiniprogram:function(n){n.disable?this.handleOpenGuide(n):n.appid&&e.navigateToMiniProgram({appId:n.appid,path:n.path,success:function(e){}})},handleOpenCommunity:function(n){var t=this;return"miniprogram"===n.type&&n.appid?this.handleOpenMiniprogram(n):n.target?this.handleCommonRoute("/pages/webview/index?url=".concat(n.target)):n.tipsImg?this.handleOpenGuide(n):void e.setClipboardData({data:n.url,success:function(e){t.handleOpenGuide(n)}})},handleOpenGuide:function(e){e.tipsImg?this.feedback.guideTipsConfig={text:"Ê∏©È¶®ÊèêÁ§∫ÔºöÈïøÊåâËØÜÂà´Êàñ‰øùÂ≠òÂæÆ‰ø°Áõ∏ÂÜåÊâ´‰∏ÄÊâ´ ‚ù§Ô∏è\n".concat(e.url||""),image:e.tipsImg}:this.feedback.guideTipsConfig={text:"‰ΩúÂìÅÈìæÊé•Â∑≤Â§çÂà∂ÔºöÂ∞èÁ®ãÂ∫èÂÜÖÊöÇ‰∏çÊîØÊåÅÊâìÂºÄÂ§ñÈìæÔºàüò¥Ôºâ\nÂêõËã•ÊúâÊÑè¬∑‰Ωï‰πéÂ±±Ê∞¥ => ÊâìÂºÄÊµèËßàÂô®Ê¨£ËµèÂêß\n".concat(e.url||"")},this.feedback.guideTips=!0},handleCommonRoute:function(n){e.navigateTo({url:n})},handleOpen500pxAlbum:function(e){var n={appid:"wxfb1c0bd6179a8b50",path:"pages/album/album?galleryId=".concat(e.id)};this.handleOpenMiniprogram(n)},handleSharePoster:function(e){var n=this;switch(e){case 1:this.handleCommonRoute("/pages/poster/index");break;case 0:default:break}setTimeout((function(e){n.feedback.guideShare=!1}),500)}}};n.default=S}).call(this,t("543d")["default"])},5864:function(e,n,t){"use strict";var r,o=function(){var e=this,n=e.$createElement,t=(e._self._c,Number(e.tabs.current)),r=e.__map(e.app.tabs,(function(n,t){var r=Number(t),o=Number(t);return{$orig:e.__get_orig(n),m1:r,m2:o}}));e._isMounted||(e.e0=function(n){return e.home.galleryIndex=n},e.e1=function(n){return n.stopPropagation(),function(n){return e.handleSwitchTab(n,"nav")}(n)},e.e2=function(n){return e.handleSwitchTab(n,"main")},e.e3=function(n){e.feedback.guideShare=!0},e.e4=function(){e.feedback.guideTips=!1},e.e5=function(n){e.feedback.guideShare=!1}),e.$mp.data=Object.assign({},{$root:{m0:t,l0:r}})},i=[];t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return r}))},"7f78":function(e,n,t){"use strict";(function(e){t("c5e7");r(t("66fd"));var n=r(t("b111"));function r(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},b111:function(e,n,t){"use strict";t.r(n);var r=t("5864"),o=t("d62a");for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);t("1fd1");var a,c=t("f0c5"),u=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,"7df2062f",null,!1,r["a"],a);n["default"]=u.exports},d62a:function(e,n,t){"use strict";t.r(n);var r=t("2acb"),o=t.n(r);for(var i in r)"default"!==i&&function(e){t.d(n,e,(function(){return r[e]}))}(i);n["default"]=o.a}},[["7f78","common/runtime","common/vendor"]]]);